"use client";

import React, {
  forwardRef,
  useImperativeHandle,
  useRef,
} from "react";

export interface MaskedLogoHandle {
  logoGroup: SVGGElement | null;
  container: HTMLDivElement | null;
}

interface Props {
  videoSrc: string;
}

export const MaskedLogo = forwardRef<
  MaskedLogoHandle,
  Props
>(({ videoSrc }, ref) => {
  const containerRef = useRef<HTMLDivElement>(null);
  const logoGroupRef = useRef<SVGGElement>(null);

  useImperativeHandle(ref, () => ({
    logoGroup: logoGroupRef.current,
    container: containerRef.current,
  }));

  return (
    <div ref={containerRef} className="absolute inset-0 z-20">
      <svg
        className="w-full h-full"
        viewBox="0 0 4000 4000"
        preserveAspectRatio="xMidYMid slice"
      >
        <defs>
          <mask id="logoMask" maskUnits="userSpaceOnUse">
            <rect x="0" y="0" width="4000" height="4000" fill="white" />
            <g ref={logoGroupRef} fill="black" transform="translate(0,0)">
              <path d="M1310.49,1871.98c6.03,0,10.06,4.03,10.06,10.06v42.6c0,6.03-4.03,10.06-10.06,10.06h-122.44c-12.75,0-20.8,11.74-20.8,23.48v82.53c0,12.08,8.05,23.15,20.8,23.15h122.44c6.03,0,10.06,4.03,10.06,10.06v42.94c0,6.03-4.03,10.06-10.06,10.06h-122.44c-47.98,0-85.53-40.25-85.53-87.55v-79.5c0-47.3,37.24-87.89,85.53-87.89h122.44Z" />
              <path d="M1615.23,2110.83l-96.96-215.03c-7.71-16.76-24.49-27.52-42.94-27.52s-35.56,11.07-42.92,27.52l-96.62,215.03c-1.01,2.02-1.33,4.03-1.33,6.03,0,6.37,5.36,8.38,10.73,8.38h260.65c5.36,0,10.73-2.02,10.73-8.38,0-2.02-.34-4.03-1.33-6.03h-.04ZM1424.02,2071.59l28.86-64.4c4.35-10.06,10.73-22.48,13.07-27.52,1.68-3.7,4.7-9.39,9.39-9.39s7.73,5.69,9.39,9.39c2.35,4.69,8.06,16.09,12.41,26.15l29.32,65.75h-102.44v.02Z" />
              <path d="M1918.96,2115.18v-232.47c0-5.38,4.03-9.73,9.39-9.73h30.86l61.38.34h30.52c43.27,0,76.82,36.57,76.82,79.17v23.15c0,43.94-32.2,78.83-76.82,78.83h-57.36c-26.17,0,6.03,70.79-20.12,70.79h-44.62c-6.03,0-10.06-4.03-10.06-10.06h0l.02-.02ZM1993.76,1993.75h57.36c8.72,0,11.74-6.7,11.74-14.43v-29.18c0-6.7-4.37-14.09-11.74-14.09h-57.36c-6.03,0-10.06,4.03-10.06,10.06v37.58c0,6.03,4.03,10.06,10.06,10.06Z" />
              <path d="M2371.83,2110.83l-96.96-215.03c-7.71-16.76-24.49-27.52-42.94-27.52s-35.56,11.07-42.94,27.52l-96.6,215.03c-1.01,2.02-1.34,4.03-1.34,6.03,0,6.37,5.38,8.38,10.73,8.38h260.65c5.36,0,10.73-2.02,10.73-8.38,0-2.02-.34-4.03-1.33-6.03h-.02ZM2180.62,2071.59l28.86-64.4c4.35-10.06,10.73-22.48,13.07-27.52,1.68-3.7,4.7-9.39,9.39-9.39s7.73,5.69,9.39,9.39c2.35,4.69,8.06,16.09,12.41,26.15l29.32,65.75h-102.44v.02Z" />
              <path d="M2896.12,2110.83l-96.94-215.03c-7.73-16.76-24.49-27.52-42.94-27.52s-35.56,11.07-42.94,27.52l-96.62,215.03c-.99,2.02-1.33,4.03-1.33,6.03,0,6.37,5.36,8.38,10.73,8.38h260.65c5.36,0,10.73-2.02,10.73-8.38,0-2.02-.34-4.03-1.33-6.03h-.04,0ZM2704.9,2071.59l28.86-64.4c4.37-10.06,10.73-22.48,13.09-27.52,1.66-3.7,4.69-9.39,9.39-9.39s7.71,5.69,9.39,9.39c2.35,4.69,8.05,16.09,12.41,26.15l29.32,65.75h-102.46v.02Z" />
              <path d="M1846.21,2121.97v-135.03c0-3.4-4.53-4.54-6.15-1.56l-45.98,84.65c-.57,1.06-1.68,1.72-2.88,1.72h-46.77c-1.2,0-2.3-.65-2.88-1.7l-46.33-84.86c-1.63-2.97-6.15-1.82-6.15,1.57v135.23c0,1.8-1.47,3.27-3.27,3.27h-47.5c-4.33,0-7.85-3.52-7.85-7.85v-236.55c0-4.33,3.52-7.85,7.85-7.85h60.07c1.18,0,2.28.64,2.86,1.68l63.73,114.39c1.26,2.25,4.47,2.25,5.73,0l63.73-114.39c.58-1.04,1.68-1.68,2.86-1.68h59.72c4.33,0,7.85,3.52,7.85,7.85v236.55c0,4.33-3.52,7.85-7.85,7.85h-47.5c-1.8,0-3.27-1.47-3.27-3.27h-.02v-.02Z" />
              <path d="M2548.93,2123.67l-97.97-137.42c-2.12-2.99-6.84-1.49-6.84,2.19v133.05c0,2.09-1.68,3.77-3.77,3.77h-43.8c-5.25,0-9.53-4.26-9.53-9.53v-237.91c0-5.25,4.26-9.53,9.53-9.53h39.61c1.22,0,2.37.58,3.08,1.59l97.95,137.7c2.12,2.99,6.84,1.49,6.84-2.19v-133.33c0-2.09,1.68-3.77,3.77-3.77h43.8c5.25,0,9.53,4.26,9.53,9.53v237.91c0,5.25-4.26,9.53-9.53,9.53h-39.61c-1.22,0-2.37-.58-3.08-1.57h.02v-.02Z" />
            </g>
          </mask>
        </defs>
        <rect x="0" y="0" width="4000" height="4000" fill="#00122d" mask="url(#logoMask)"/>
      </svg>
    </div>
  );
});

MaskedLogo.displayName = "MaskedLogo";